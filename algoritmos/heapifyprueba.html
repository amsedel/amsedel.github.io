<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Max Heapify prueba</title>
</head>
<body>

<script type="text/javascript">
	
	//var arr = [4, 2, 6, 7];
	var arr = [4, 7, 6, 2];
	//var arr = [4, 7, 2, 6];
	// var arr = [2,4,6];
	//c var arr = [2,6,4];
	//c var arr = [4,2,6];
	//c var arr = [4,6,2];
	//c var arr = [6,4,2];
	//c var arr = [6,2,4];


	var arrayLength=arr.length;
	arr.unshift(0);
	var arrOutput = new Array(arr.length).fill(0);
	var largestValue, value_smallest1, last;
	//var i = 1;
	var largest, value_smallest;


	function maxHeapify(arr,  i){
	 //padre = i/2 , lugar del padre es 1
	 //hijo izquierdo = 2*i
	 //hijo derecho = 2*i+1
	 var l = 2*i;
	 var r = 2*i + 1;
	 //console.log(arr);
	 /*console.log(i);
	 console.log('l:' + l);
	 console.log('r:' + r);*/

		 if(l<=arr.length && arr[l]>arr[i]){ //primero hacemos comparación con el supuesto padre con el hijo izquierdo
	 		largest = l;
	 		value_smallest1=arr[i];
	 	}else{
	 		largest=i;	
	 		value_smallest1=arr[l];
	 	}

	 	if(r<=arr.length && arr[r]>arr[largest]){ //hacemos comparación con el supuesto padre con el hijo derecho
	 		value_smallest = arr[largest];
	 		largest = r;
	 	}
	 	if (largest!=i) {
	 		arr[i]=arr[largest];
	 			if(value_smallest1<value_smallest){
	 				arr[l]=value_smallest;
	 			}

	 		arr[largest]=value_smallest1;	
	 	}
	 console.log(arr[largest]);
	 return arr;
	}

	//var maxHeapify2 = maxHeapify(arr,i)

	function builtMaxHeap(){
		for(var i = arrayLength/2; i>=1; i--){
			console.log('built' + maxHeapify(arr,i));
		}
	}

	builtMaxHeap();
	var arrayLength=arr.length;
	for(var j = arrayLength-1; j >=1; j--){
		// largestValue = arr[1]
		// console.log(largestValue)
		// arr[1]=arr[j];
		// arrOutput[j]=largestValue;
		// arr.pop(); 
		// console.log(j)
		console.log(maxHeapify(arr,j));
	}





</script>



</body>
</html>