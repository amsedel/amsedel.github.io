<!DOCTYPE html>
<html>
<head>
	<title>Prueba</title>
</head>
<body>
<input type="button" name="btn" id="btn" onclick="enviar();" value="Enviar">
<input type="text" name="name" id="name" value="Diana">
<script type="text/javascript">


	//OK
	// var nam = document.getElementById('name');
	// nam.addEventListener('build', setMessage);
	// var myEvent = new CustomEvent('build', {detail: {identificador :document.getElementById('name').value, s:'ola'}});

	// function enviar(){
	// nam.dispatchEvent(myEvent);
	// }


	// function setMessage (mensaje){
	// console.log(myEvent.detail.identificador);
	// alert('hola' + myEvent.detail.s);
	// }





		var people2 = [
					 	{ name: "bob",  id:1 },
					 	{ name: "john", id:2 }, 
					 	{ name: "alex", id:3 }, 
					 	{ name: "john", id:3 },
					 	{ name: "Diane", id:3 },
					 	{ name: "john", id:3 }];

			var string1 = "";
			var arrayName = [];
			var indices =[];
			var e=[];
			var f=[];
			var g=[];
			var indices2D =new Array(2);
			var idx2=0;
			var c=0;
			var c2=0;

			
			 for(var a = 0; a<people2.length; a++){
			 	delete people2[a].id;
			 for (var property in people2[a]){ //bucle for-in itera sobre las propiedades del objeto
			 	//console.log(people2[a][property])
			 	arrayName.push(people2[a][property])
  	 		}}

  	 		f=arrayName;

			var arraySinRepeticiones = people2.filter(sinRepeticiones);

				function sinRepeticiones(persona){ 
					
					if(f.indexOf(persona.name) === f.lastIndexOf(persona.name)){
						g.push(persona.name);
						c++;
					}else{
						while(c<f.length){
							if(f.indexOf(persona.name, c) === f.lastIndexOf(persona.name)){
								g.push(persona.name);
								c2++;
								if(c2>1){
									
								}

							}
							c++;
						}
					}
					

    			}



    			

    				
			/*	

				 function buscaIndicesRepetidos(nombres){
				 	//console.log(nombres)
					//var element = e[2];
					//var idx =arrayName.indexOf(element);		
					var contador = 0; 
					//var nombres = 'john';
					//for(var w =0; w<arrayName.length;w++){
			
					var idx =arrayName.indexOf(nombres);
					console.log(idx)
					while(idx!=-1){
				 	contador++;	
				 	idx =arrayName.indexOf(nombres, idx+1);
					}
				 	indices.push(contador);	
				 }

				 var r = e.map(buscaIndicesRepetidos);
*/





</script>
</body>
</html>